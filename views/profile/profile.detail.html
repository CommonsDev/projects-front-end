<link href="js/vendor/angular-xeditable/dist/css/xeditable.css" rel="stylesheet">
<link rel="stylesheet" href="js/vendor/ng-tags-input/ng-tags-input.min.css">
<link rel="stylesheet" href="js/vendor/ng-tags-input/ng-tags-input.bootstrap.min.css">
<link rel='stylesheet' href='css/textAngular.css'>

<ul id="sidenav" class="project">
    <!-- Really remove this? #154
    <li><a ng-click="editable = ! editable" ng-init="editable=false" ng-class="{selected: editable}"><span class="glyphicon glyphicon-pencil"></span>Editer</a></li>
    -->
    <li><a href=""><span class="glyphicon glyphicon-share-alt"></span>Partager</a></li>
    <li><a href=""><span class="glyphicon glyphicon-envelope"></span>Contact</a></li>
</ul><!-- #nav -->

<div id="intro" class="intro-profile">
    <div class="container">
        <div class="intro">
            <div class="row">

                <div class="col-md-4">
                    <gravatar-image data-gravatar-email="profile.parent.user.email"
                                    data-gravatar-size="200"
                                    data-gravatar-rating="pg"
                                    data-gravatar-default="mm"
                                    data-gravatar-secure="true"
                                    data-gravatar-css-class="profile img-circle">
                    </gravatar-image>

                    <h1>{{profile.full_name}}</h1>
                    <div class="relative">
                        <div class="edit-buttons" ng-show="editable">
                            <button ng-click="ActivityBtnForm.$show()" ng-hide="ActivityBtnForm.$visible">
                                <span class="glyphicon glyphicon-pencil"></span>
                            </button>
                        </div>
                        <h2 editable-text="profile.activity"
                            e-form="ActivityBtnForm"
                            onbeforesave="updateMakerScienceProfile('MakerScienceProfile', profile.id , 'activity', $data)"
                            ng-bind-html="profile.activity">{{ profile.activity }}
                        </h2>
                    </div>
                </div>

                <div class="col-md-8">
                    <div class="side-header" ng-class="{ 'editing' : editable }">
                        <a ui-sref="profile.dashboard({id : profile.id})">Voir mon dashboard</a>

                        <div class="relative bio">
                            <h5 class="bio">Présentation</h5>
                            <div class="edit-buttons" ng-click="BioBtnForm.$show()" ng-hide="BioBtnForm.$visible || !editable" ng-show="editable">
                                <button><span class="glyphicon glyphicon-pencil"></span></button>
                            </div>
                            <p editable-text-angular="profile.bio"
                                 e-form="BioBtnForm"
                                 e-rows="4"
                                 e-ta-toolbar="[['bold','italics', 'underline'], ['ul', 'ol'], ['insertLink']]"
                                 onbeforesave="updateMakerScienceProfile('MakerScienceProfile', profile.id , 'bio', $data)"
                                 ng-bind-html="profile.bio">
                            </p>
                        </div><!-- .relative -->

                        <div class="relative">
                            <h5 class="skills">Compétences</h5>
                            <div class="editable">
                                <div class="edit-buttons" ng-show="editable" ng-init="addSkill=false">
                                    <button ng-click="addSkill = ! addSkill"><span class="glyphicon glyphicon-pencil"></span></button>
                                </div>

                                <div ng-show="addSkill==true" ng-controller="TagAutoCompleteCtrl">
                                    <tags-input ng-model="$parent.preparedSkillTags"
                                                placeholder="> Mot-clé"
                                                on-tag-added="$parent.addTagToProfile('sk', $tag)"
                                                on-tag-removed="$parent.removeTagFromProfile($tag)">
                                                <auto-complete source="loadTags($query)"></auto-complete>
                                    </tags-input>
                                </div>

                                <div ng-show="addSkill==false">
                                    <ul class="tags skills">
                                        <li ng-repeat="tag in preparedSkillTags"><a href="">{{tag.text}}</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div><!-- .relative -->

                        <div class="relative">
                            <h5>Intérêts</h5>
                            <div class="editable">
                                <div class="edit-buttons" ng-show="editable" ng-init="addInterest=false">
                                    <button ng-click="addInterest = ! addInterest"><span class="glyphicon glyphicon-pencil"></span></button>
                                </div>

                                <div ng-show="addInterest==true" ng-controller="TagAutoCompleteCtrl">
                                    <tags-input ng-model="$parent.preparedInterestTags"
                                                placeholder="> Mot-clé"
                                                on-tag-added="$parent.addTagToProfile('in', $tag)"
                                                on-tag-removed="$parent.removeTagFromProfile($tag)">
                                                <auto-complete source="loadTags($query)"></auto-complete>
                                    </tags-input>
                                </div>

                                <div ng-show="addInterest==false">
                                    <ul class="tags tags-project">
                                        <li ng-repeat="tag in preparedInterestTags"><a href="">{{tag.text}}</a></li>
                                    </ul>
                                </div>
                            </div><!-- .editable -->
                        </div><!-- .relative -->

                        <div class="row">

                            <div class="col-md-6" >
                                <div class="edit-buttons edit-buttons-location" ng-show="editable">
                                    <button ng-click="LocationBtnForm.$show()" ng-hide="LocationBtnForm.$visible">
                                        <span class="glyphicon glyphicon-pencil"></span>
                                    </button>
                                </div>
                                <p class="location">
                                    <img src="./img/location.png" alt="Location" />
                                    <label editable-text="profile.location.address_locality"
                                        e-form="LocationBtnForm"
                                        onbeforesave="updateMakerScienceProfile('PostalAddress', profile.location.id , 'address_locality', $data)"
                                        ng-bind-html="profile.location.address_locality">{{ profile.location.address_locality }}
                                    </label>
                                </p>
                            </div>

                            <div class="col-md-6">
                                <div class="relative">
                                    <div class="edit-buttons" ng-click="socialEdit=!socialEdit" ng-show="editable" ng-init="socialEdit=False">
                                        <button> <span class="glyphicon glyphicon-pencil"></span></button>
                                    </div>
                                    <div ng-show="!socialEdit" >
                                        <a ng-show="profile.facebook" href="{{profile.facebook}}" target="_blank" class="share-facebook"><img src="./img/icons/social/facebook-small.png" alt="Facebook" /></a>
                                        <a ng-show="profile.twitter" href="{{profile.twitter}}" target="_blank" class="share-twitter"><img src="./img/icons/social/twitter-small.png" alt="Twitter" /></a>
                                        <a ng-show="profile.linkedin" href="{{profile.linkedin}}" target="_blank" class="share-linkedin"><img src="./img/icons/social/google-small.png" alt="Google" /></a>
                                        <a ng-show="profile.contact_email" href="{{profile.contact_email}}" target="_blank" class="share-email">@</a>
                                        <span class="glyphicon glyphicon-globe"></span>
                                        <label><a href="http://www.pixmin.org">http://www.pixmin.org</a></label>
                                    </div>
                                    <div ng-show="socialEdit" >
                                        <input type="text" ng-model="profile.facebook" placeholder="Profil Facebook"/>
                                        <input type="text" ng-model="profile.twitter" placeholder="Profil Twitter"/>
                                        <input type="text" ng-model="profile.linkedin" placeholder="Profil LinkedIn"/>
                                        <input type="text" ng-model="profile.contact_email" placeholder="Courriel de contact"/>
                                        <span class="editable-buttons">
                                            <button class="btn btn-primary" ng-click="updateSocialNetworks(profile);socialEdit=False" >Enregistrer</button>
                                        </span>
                                    </div>
                                </div><!-- .relative -->
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <p class="right">Mise à jour <span am-time-ago="profile.modified"></span></p>
                            </div>
                        </div>
                    </div><!-- .side-header -->
                </div><!-- .col-md-4 -->
            </div><!-- .row -->
        </div><!-- .intro -->
    </div><!-- .container -->
</div><!-- #intro -->

<div class="row container">

    <div class="col-md-12">

        <div id="content" class="content-member">

            <div class="boxes boxes-small">
                <div class="box box-solo box-blue">
                    <div><a href="">Mes projets <span class="count">(4)</span> <span class="glyphicon glyphicon-chevron-right"></span></a></div>
                </div>
                <div class="box" ng-repeat="project in member_projects">
                    <ng-include src="'views/catalog/block/project_thumb.html'" onload="project=project"></ng-include>
                </div><!-- .box -->
            </div><!-- .boxes -->

            <div class="boxes boxes-small" ng-controller="MakerScienceProjectListCtrl">
                <div class="box box-solo box-red">
                    <div><a href="">Les projets que je suis <span class="count">(20)</span> <span class="glyphicon glyphicon-chevron-right"></span></a></div>
                </div>
                <div class="box">
                    <!-- <ng-include src="'views/catalog/block/project_thumb.html'" ng-init="project=project"></ng-include> -->
                </div><!-- .box -->
            </div><!-- .boxes -->

            <div class="boxes boxes-small" ng-controller="MakerScienceProjectListCtrl">
                <div class="box box-solo box-green">
                    <div><a href="">Mes expériences <span class="count">(14)</span> <span class="glyphicon glyphicon-chevron-right"></span></a></div>
                </div>
                <div class="box" ng-repeat="resource in member_resources">
                    <ng-include src="'views/catalog/block/resource_thumb.html'" ng-init="resource=resource"></ng-include>
                </div><!-- .box -->
            </div><!-- .boxes -->

            <div class="boxes boxes-small" ng-controller="MakerScienceProjectListCtrl">
                <div class="box box-solo box-purple">
                    <div><a href="">Les expériences qui m'intéressent <span class="count">(8)</span> <span class="glyphicon glyphicon-chevron-right"></span></a></div>
                </div>
                <div class="box">
                    <!-- <ng-include src="'views/catalog/block/resource_thumb.html'" ng-init="resource=resource"></ng-include> -->
                </div><!-- .box -->
            </div><!-- .boxes -->

        </div><!-- .content-member -->

    </div><!-- .col-md-12 -->

</div><!-- .row .container -->

<!-- <div class="row container">
    <div class="col-md-8">
        <div class="badges">
            <h3>Mes Badges</h3>
        </div>
    </div>
    <div class="col-md-4">
        <div class="bloc bloc-solo">
        </div>
    </div>
</div> -->
